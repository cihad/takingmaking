(function(t){function e(e){for(var o,i,r=e[0],c=e[1],l=e[2],f=0,v=[];f<r.length;f++)i=r[f],a[i]&&v.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},s=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0205":function(t,e,n){"use strict";var o=n("1a0d"),a=n.n(o);a.a},1247:function(t,e,n){},"13b0":function(t,e,n){},1741:function(t,e,n){var o={"./TMButton/main.js":"a743","./TMParagraph/main.js":"93ef","./TMRow/main.js":"a05d"};function a(t){var e=s(t);return n(e)}function s(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(o)},a.resolve=s,t.exports=a,a.id="1741"},"189a":function(t,e,n){"use strict";var o=n("37f3"),a=n.n(o);a.a},"191d":function(t,e,n){"use strict";var o=n("c912"),a=n.n(o);a.a},"1a0d":function(t,e,n){},"1fd0":function(t,e,n){},"2a9b":function(t,e,n){"use strict";var o=n("d005"),a=n.n(o);a.a},"2cfe":function(t,e,n){},"37f3":function(t,e,n){},"424a":function(t,e,n){"use strict";var o=n("13b0"),a=n.n(o);a.a},4587:function(t,e,n){"use strict";var o=n("1fd0"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=n("6bde"),s="__unique_key_prop__",i="__key_prefix__"+Date.now()+"_",r=0,c=function(t){return null!==t&&"object"===Object(a["a"])(t)},l=function(t){if(c(t)){if(s in t)return t[s];var e=i+r++;return Object.defineProperty(t,s,{value:e}),console.log(e),e}return t},u=l,f=n("cf3a"),v=(n("ac6a"),n("c665")),p=n("aa9a"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-wrapper",attrs:{id:"vtm"}},[n("draggable",{attrs:{list:t.rows,options:{group:"rows",handle:".handle",animation:150}}},t._l(t.rows,function(e,o){return n("Row",{key:t.uniqKey(e),attrs:{rows:t.rows,index:o},model:{value:t.rows[o],callback:function(e){t.$set(t.rows,o,e)},expression:"rows[i]"}})})),n("popper",{attrs:{trigger:"click",options:{placement:"bottom"}}},[n("div",{staticClass:"vtm card text-white bg-dark"},[n("div",{staticClass:"card-header"},[n("input",{staticClass:"text-white w-100",staticStyle:{"background-color":"transparent",border:"0",outline:"none"},attrs:{type:"text",name:"",placeholder:"Search blocks...",autofocus:"true"}})]),n("div",{staticClass:"list-group list-group-flush"},[n("draggable",{attrs:{list:t.Blocks.blocks,options:{group:{name:"blocks",pull:"clone",put:!1},sort:!1},clone:t.clone}},t._l(t.Blocks.blocks,function(e){return n("a",{staticClass:"list-group-item list-group-item-action",style:{cursor:"move"},attrs:{href:"#"},on:{click:function(t){t.preventDefault()},dragstart:t.startDrag}},[t._v(t._s(e.humanName))])}))],1)]),n("button",{staticClass:"btn btn-block btn-lg btn-light mt-4",attrs:{slot:"reference"},slot:"reference"},[t._v("✚")])]),n("details",{staticClass:"mt-5"},[n("summary",[t._v("Blocks")]),n("pre",[t._v(t._s(t.rows))])]),n("div",{ref:"draggingElement",staticClass:"dragging-element"},[t._v("BLOCK")]),n("OffCanvas",{attrs:{placement:t.placement,active:t.showPanel}},[n("div",{staticClass:"card bg-dark"},[n("div",{staticClass:"card-header d-flex justify-content-between"},[n("strong",[t._v("BLOCKS")]),n("span",[t._v(t._s(t.Blocks.blocks.length))])]),n("div",{staticClass:"list-group list-group-flush"},[n("draggable",{attrs:{list:t.Blocks.blocks,options:{group:{name:"blocks",pull:"clone",put:!1},sort:!1},clone:t.clone}},t._l(t.Blocks.blocks,function(e){return n("a",{staticClass:"list-group-item list-group-item-action bg-dark text-white",style:{cursor:"move"},attrs:{href:"#"},on:{click:function(t){t.preventDefault()},dragstart:t.startDrag}},[t._v(t._s(e.humanName))])}))],1)])]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.placement,expression:"placement"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.placement=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"left"}},[t._v("Left")]),n("option",{attrs:{value:"right"}},[t._v("Right")])]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.showPanel,expression:"showPanel"}],attrs:{type:"radio",id:"one"},domProps:{value:!0,checked:t._q(t.showPanel,!0)},on:{change:function(e){t.showPanel=!0}}}),n("label",{attrs:{for:"one"}},[t._v("Show")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.showPanel,expression:"showPanel"}],attrs:{type:"radio",id:"two"},domProps:{value:!1,checked:t._q(t.showPanel,!1)},on:{change:function(e){t.showPanel=!1}}}),n("label",{attrs:{for:"two"}},[t._v("Hide")]),n("br")],1)},h=[],m=n("55ea"),b=n.n(m),k=(n("06dc"),n("1516")),g=n.n(k),w=n("e6f2"),_=n("ac70"),y=n("797f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"canvas-menu bg-dark text-white vtm border-box",class:[t.placementClass,{active:t.active}]},[t._t("default")],2)},C=[],O={props:{placement:{type:String,default:"left"},active:{type:Boolean,default:!1}},computed:{placementClass:function(){return"canvas-menu--"+this.placement}}},S=O,z=(n("4587"),n("2877")),j=Object(z["a"])(S,x,C,!1,null,null,null);j.options.__file="OffCanvas.vue";var N=j.exports,$={name:"app",data:function(){return{Blocks:f["a"],rows:_["a"].rows,placement:"left",showPanel:!1}},components:{Blocks:w["a"],draggable:g.a,popper:b.a,Row:y["a"],OffCanvas:N},methods:{addRow:function(){for(var t=[],e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];n.forEach(function(e){return t.push({colSize:e,blocks:[]})}),this.rows.push(t)},clone:function(t){return(new t).blockObject},startDrag:function(t){var e=this.$refs.draggingElement;t.dataTransfer.setDragImage(e,45,30)}},computed:{blocks:function(){var t=[];return f["a"].blocks.forEach(function(e){t.push((new e).blockObject)}),t}}},B=$,E=(n("68d2"),Object(z["a"])(B,d,h,!1,null,"b0f4f874",null));E.options.__file="App.vue";var P=E.exports,T=function(){function t(e){Object(v["a"])(this,t),this.selector=e.selector,this.output=e.output,this.initApp()}return Object(p["a"])(t,[{key:"initApp",value:function(){new o["default"]({render:function(t){return t(P)}}).$mount(this.selector);var t=this;this.getBlocks(),_["a"].$on("blocksHtmlChanged",function(e){document.querySelector(t.output).value=e})}},{key:"changed",value:function(t){_["a"].$on("blocksChanged",t)}},{key:"registerBlock",value:function(t){}},{key:"getBlocks",value:function(){var t=document.querySelector(this.output).value,e=new DOMParser,o=e.parseFromString(t,"text/html");o.querySelectorAll("[data-tm-block]").forEach(function(t){var e=t.getAttribute("data-tm-block"),o=n("f265")("./".concat(e,"/main")).default,a=new o(t);a.addBlock()})}}]),t}();o["default"].mixin({methods:{uniqKey:u}}),o["default"].config.productionTip=!1,window.TakingMaking=T;var R=new T({selector:"#app",output:"#output"});R.changed(function(t){console.log("changed//////")})},"611f":function(t,e,n){"use strict";var o=n("f24a"),a=n.n(o);a.a},"68d2":function(t,e,n){"use strict";var o=n("9323"),a=n.n(o);a.a},"797f":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.clickaway,expression:"clickaway"},{name:"on-click-child-block",rawName:"v-on-click-child-block",value:t.clickaway,expression:"clickaway"}],staticClass:"row mb-4",attrs:{active:t.state.focus},on:{mouseover:function(e){t.state.hover=!t.state.focus},mouseout:function(e){t.state.hover=!1},mousedown:function(e){t.state.focus=!0},click:function(e){t.state.hover=!1}}},[n("div",{staticClass:"handle",class:{hover:t.state.hover,active:t.state.focus}}),t._l(t.value,function(e,o){return n("Blocks",{attrs:{index:o},model:{value:t.value[o],callback:function(e){t.$set(t.value,o,e)},expression:"value[i]"}})}),t.state.hover||t.state.focus?n("div",{staticClass:"vtm toolbar btn-group"},[n("a",{staticClass:"btn btn-xs btn-success",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.removeRow()}}},[t._v("remove")]),n("a",{staticClass:"btn btn-xs btn-success handle",attrs:{href:"#"}},[t._v("move")])]):t._e(),t.state.hover||t.state.focus?n("a",{staticClass:"add-column",class:{disabled:!t.canAddColumn,active:t.state.focus},attrs:{href:"#",title:"Add column"},on:{click:function(e){e.preventDefault(),t.addColumn()}}},[t._v("+")]):t._e(),t.state.hover||t.state.focus?n("a",{staticClass:"remove-column",class:{disabled:!t.canRemoveColumn,active:t.state.focus},attrs:{href:"#",title:"Remove column"},on:{click:function(e){e.preventDefault(),t.removeColumn()}}},[t._v("-")]):t._e(),t.state.hover||t.state.focus?n("a",{staticClass:"add-row",class:{active:t.state.focus},attrs:{href:"#",title:"Add row"},on:{click:function(e){t.addRow()}}},[t._v("+")]):t._e()],2)},a=[],s=(n("7514"),n("ac6a"),n("c5f6"),n("e6f2")),i=n("c7db");Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var r={props:{value:Array,rows:Array,index:Number},directives:{onClickaway:i["directive"],onClickChildBlock:{bind:function(t,e,n){var o=e.value,a=n.context;function s(e){var n=e.path||(e.composedPath?e.composedPath():void 0);if((n?n.indexOf(t)>0:t.contains(e.target))&&e.target.closest("[data-block]"))return o.call(a,e)}document.documentElement.addEventListener("click",s,!1)}}},components:{Blocks:s["a"]},data:function(){return{state:{focus:!1,hover:!1,width:null}}},mounted:function(){this.width=this.$el.offsetWidth},methods:{clickaway:function(){this.state.hover=!1,this.state.focus=!1},addRow:function(){this.rows.splice(this.index+1,0,[{colSize:12,blocks:[]}])},addColumn:function(){if(!(this.value.length>=12)){var t=this.value.map(function(t){return t.colSize}),e=1,n=t.every(function(e){return t[0]==e}),o=n&&t[0]>3;o?(e=12/(t.length+1),this.value.forEach(function(t){return t.colSize=e})):this.value.slice().reverse().find(function(t){if(t.colSize>e)return t.colSize-=e,!0}),this.value.push({colSize:e,blocks:[]})}},removeColumn:function(){if(1!=this.value.length){var t=this.value.map(function(t){return t.colSize}),e=t.every(function(e){return t[0]==e}),n=e&&t[0]>=3;if(n)this.value.forEach(function(e){return e.colSize=12/(t.length-1)});else{var o=this.value.length;this.value[o-2].colSize+=this.value[o-1].colSize}this.value.splice(this.value.length-1,1)}},removeRow:function(){this.rows.splice(this.index,1)}},computed:{canAddColumn:function(){return this.value.length<12},canRemoveColumn:function(){return this.value.length>1}}},c=r,l=(n("2a9b"),n("2877")),u=Object(l["a"])(c,o,a,!1,null,"661563ea",null);u.options.__file="Row.vue";e["a"]=u.exports},8169:function(t,e,n){"use strict";var o=n("2cfe"),a=n.n(o);a.a},9323:function(t,e,n){},"93ef":function(t,e,n){"use strict";n.r(e);var o=n("c665"),a=n("aa9a"),s=n("ac70"),i=function(){function t(e){Object(o["a"])(this,t),e&&(this.htmlDoc=e,this.kontent=e.innerHTML,this.fontSize=e.style.fontSize)}return Object(a["a"])(t,[{key:"addBlock",value:function(){s["a"].blocks.push(this.blockObject)}},{key:"humanName",get:function(){return"Paragraph"}},{key:"kontent",get:function(){return this._content||"Lorem Ipsum is simply dummy text of the printing and typesetting\n                             industry. Lorem Ipsum has been the industry's standard dummy text\n                             ever since the 1500s, when an unknown printer took a galley of\n                             type and scrambled it to make a type specimen book. It has\n                             survived not only five centuries, but also the leap into\n                             electronic typesetting, remaining essentially unchanged. It was\n                             popularised in the 1960s with the release of Letraset sheets\n                             containing Lorem Ipsum passages, and more recently with desktop\n                             publishing software like Aldus PageMaker including versions of\n                             Lorem Ipsum."},set:function(t){this._content=t}},{key:"fontSize",set:function(t){this._fontSize=t},get:function(){return this._fontSize}},{key:"blockObject",get:function(){var e=this;return{name:"Paragraph",viewName:t.viewName,optionsName:t.optionsName,content:e.kontent,options:{fontSize:e.fontSize}}}}],[{key:"humanName",get:function(){return"Paragraph"}},{key:"viewName",get:function(){return"TMParagraph"}},{key:"optionsName",get:function(){return this.viewName+"Options"}},{key:"view",get:function(){return n("9779").default}},{key:"options",get:function(){return n("e096").default}}]),t}();e["default"]=i},"95f4":function(t,e,n){},"973e":function(t,e,n){"use strict";var o=n("a7b2"),a=n.n(o);a.a},9779:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{fontSize:t.value.options.fontSize+"px"}},[n("p",[n("medium-editor",{attrs:{text:t.value.content,options:t.options},on:{edit:t.processEditOperation},nativeOn:{focus:function(e){return t.focus(e)},blur:function(e){return t.blur(e)}}})],1)])},a=[],s=n("4884"),i=n.n(s),r=(n("3e93"),n("f765"),{props:{value:Object},components:{"medium-editor":i.a},methods:{processEditOperation:function(t){this.value.content=t.api.origElements.innerHTML},focus:function(){this.$emit("focus")},blur:function(){this.$emit("blur")}},computed:{toS:function(){var t='\n<div style="font-size: '.concat(this.value.options.fontSize,'px">\n  ').concat(this.value.content,"\n</div>");return t}},data:function(){return{options:{placeholder:!1,disableReturn:!0,toolbar:{buttons:["bold","italic","underline","anchor"]}}}},mounted:function(){var t=window.getComputedStyle(this.$el);this.value.options.fontSize=parseInt(t.fontSize)}}),c=r,l=(n("973e"),n("2877")),u=Object(l["a"])(c,o,a,!1,null,"0cbb5d8a",null);u.options.__file="view.vue";e["default"]=u.exports},"9ca4":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-3",staticStyle:{"text-align":"center"},on:{click:t.focus}},[n("a",{staticClass:"btn",class:[t.buttonClass,t.blockClass],attrs:{href:t.value.buttonUrl},on:{click:function(t){t.preventDefault()}}},[t._v("\n    "+t._s(t.value.buttonText)+"\n  ")])])},a=[],s={props:{value:Object},computed:{buttonClass:function(){var t="";return t+="btn-",this.value.options.outline&&(t+="outline-"),t+=this.value.options.color,t},blockClass:function(){var t="";return this.value.options.block&&(t+="btn-block"),t},toS:function(){var t='\n<div style="text-align: center;">\n  <a href="'.concat(this.value.buttonUrl,'" class="btn ').concat(this.buttonClass," ").concat(this.blockClass,'">\n    ').concat(this.value.buttonText,"\n  </a>\n</div>");return t}},methods:{focus:function(){this.$emit("focus")}},data:function(){return{}}},i=s,r=(n("611f"),n("2877")),c=Object(r["a"])(i,o,a,!1,null,"e2c10530",null);c.options.__file="view.vue";e["default"]=c.exports},a05d:function(t,e,n){"use strict";n.r(e);var o=n("c665"),a=n("aa9a"),s=(n("cadf"),n("551c"),n("097d"),n("ac70")),i=function(){function t(e){Object(o["a"])(this,t),e&&(this.htmlDoc=e,this.kontent=e.innerHTML,this.fontSize=e.style.fontSize)}return Object(a["a"])(t,[{key:"addBlock",value:function(){s["a"].blocks.push(this.blockObject)}},{key:"humanName",get:function(){return"Row"}},{key:"blockObject",get:function(){return{name:"Row",viewName:t.viewName,optionsName:t.optionsName,content:[{colSize:12,blocks:[]}]}}}],[{key:"humanName",get:function(){return"Row"}},{key:"viewName",get:function(){return"TMRow"}},{key:"optionsName",get:function(){return this.viewName+"Options"}},{key:"view",get:function(){return n("f97a").default}},{key:"options",get:function(){return n("f99c").default}}]),t}();e["default"]=i},a743:function(t,e,n){"use strict";n.r(e);var o=n("c665"),a=n("aa9a"),s=n("ac70"),i=function(){function t(e){if(Object(o["a"])(this,t),e){this.htmlDoc=e;var n=this.htmlDoc.querySelector("a");this.buttonText=n.innerText.trim(),this.buttonUrl=n.getAttribute("href")}}return Object(a["a"])(t,[{key:"addBlock",value:function(){s["a"].blocks.push(this.blockObject)}},{key:"humanName",get:function(){return"Button"}},{key:"buttonText",set:function(t){this._buttonText=t},get:function(){return this._buttonText||"Merhaba"}},{key:"buttonUrl",set:function(t){this._buttonUrl=t},get:function(){return this._buttonUrl||"#"}},{key:"blockObject",get:function(){var e=this;return{name:t.humanName,viewName:t.viewName,optionsName:t.optionsName,buttonText:e.buttonText,buttonUrl:e.buttonUrl,options:{color:"primary",outline:!1,block:!1}}}}],[{key:"humanName",get:function(){return"Button"}},{key:"viewName",get:function(){return"TMButton"}},{key:"optionsName",get:function(){return this.viewName+"Options"}},{key:"view",get:function(){return n("9ca4").default}},{key:"options",get:function(){return n("ea44").default}}]),t}();e["default"]=i},a7b2:function(t,e,n){},ac70:function(t,e,n){"use strict";var o=n("2b0e"),a=new o["default"]({data:function(){return{blocks:[],rows:[[{colSize:12,blocks:[]}]]}},methods:{registerBlock:function(t){this.blocks.push(t)}}});e["a"]=a},c912:function(t,e,n){},ceeb:function(t,e,n){},cf3a:function(t,e,n){"use strict";n("ac6a"),n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=new o["default"]({data:function(){return{blocks:[],rows:[]}}}),s=n("1741");s.keys().forEach(function(t){var e=s(t);a.blocks.push(e.default)}),e["a"]=a},d005:function(t,e,n){},da3f:function(t,e,n){"use strict";var o=n("95f4"),a=n.n(o);a.a},e096:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"font-size"}},[t._v("Font size:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.options.fontSize,expression:"value.options.fontSize"}],staticClass:"form-control",attrs:{type:"range",name:"font-size",min:"0",max:"100"},domProps:{value:t.value.options.fontSize},on:{__r:function(e){t.$set(t.value.options,"fontSize",e.target.value)}}})])])},a=[],s={props:{value:Object}},i=s,r=(n("8169"),n("2877")),c=Object(r["a"])(i,o,a,!1,null,null,null);c.options.__file="options.vue";e["default"]=c.exports},e6f2:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column",class:t.sizeClass,style:{flexBasis:t.widthPx}},[n("draggable",{staticClass:"draggable-area",class:{"no-block":0==t.value.blocks.length},attrs:{list:t.value.blocks,options:{handle:".handle",group:"blocks",animation:150}}},t._l(t.value.blocks,function(e,o){return n("Block",{key:t.uniqKey(e),ref:"block",refInFor:!0,attrs:{index:o,blocks:t.value.blocks},model:{value:t.value.blocks[o],callback:function(e){t.$set(t.value.blocks,o,e)},expression:"value.blocks[ind]"}})})),t.isLastCol()?t._e():n("resizable-handle",{on:{step:t.step}})],1)},a=[],s=(n("ac6a"),n("c5f6"),n("1516")),i=n.n(s),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.clickaway,expression:"clickaway"}],staticClass:"item",attrs:{"data-block":""},on:{mouseover:function(e){e.stopPropagation(),t.state.hover=!t.state.focus},mouseout:function(e){return e.stopPropagation(),t.leaveBlock(e)},mousedown:function(e){e.stopPropagation(),t.state.focus=!0}}},[n("div",{staticClass:"handle",class:{hover:t.state.hover,active:t.state.focus},on:{mousedown:function(e){t.state.showOptions=!1}}}),t.state.hover||t.state.focus?n("div",{staticClass:"vtm toolbar btn-group"},[n("a",{staticClass:"btn btn-xs btn-primary",class:{"btn-light-blue":t.lightBlue,"btn-danger":t.state.showRemove},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.remove(e)}}},[n("span",[t._v("✕")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.state.showRemove,expression:"state.showRemove"}]},[t._v("remove")])]),n("a",{staticClass:"btn btn-xs btn-primary",class:{"btn-light-blue":t.lightBlue},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.state.showOptions=!t.state.showOptions}}},[t._v("\n      options\n    ")]),n("a",{staticClass:"btn btn-xs btn-primary handle",class:{"btn-light-blue":t.lightBlue},attrs:{href:"#"},on:{mousedown:function(e){t.state.showOptions=!1}}},[t._v("\n      move\n    ")])]):t._e(),n("Popup",{attrs:{show:t.state.showOptions}},[n(t.value.optionsName,{tag:"component",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n(t.value.viewName,{tag:"component",attrs:{"data-hovered":t.state.hover,"data-active":t.state.focus||t.state.showOptions},on:{focus:t.focus,blur:t.blur},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"vtm text-white bg-dark card card-options"},[n("div",{staticClass:"card-body"},[t._t("default")],2)])},u=[],f=n("f0bd"),v={props:{show:Boolean},mounted:function(){new f["default"](this.$parent.$el,this.$el,{placement:"right-start"})}},p=v,d=(n("f710"),n("2877")),h=Object(d["a"])(p,l,u,!1,null,"394c6798",null);h.options.__file="Popup.vue";var m=h.exports,b=n("c7db"),k=n("cf3a"),g={props:{blocks:Array,value:Object},components:{Popup:m},directives:{onClickaway:b["directive"]},data:function(){return{state:{focus:!1,hover:!1,showOptions:!1,showRemove:!1}}},beforeMount:function(){var t=this;k["a"].blocks.forEach(function(e){t.$options.components[e.viewName]=e.view,t.$options.components[e.optionsName]=e.options})},methods:{remove:function(){console.log("BlockItem remove"),this.state.showRemove?this.blocks.splice(this.index,1):this.state.showRemove=!0},leaveBlock:function(){console.log("BlockItem leaveBlock"),this.state.showOptions||(this.state.hover=!1,this.state.showRemove=!1)},clickaway:function(){console.log("BlockItem clickaway"),this.state.hover=!1,this.state.focus=!1,this.state.showOptions&&(this.state.showOptions=!1)},focus:function(){console.log("BlockItem focus"),this.state.focus=!0,this.state.hover=!1},blur:function(){console.log("BlockItem blur"),this.state.hover=!0,this.state.focus=!1}},computed:{lightBlue:function(){return this.state.hover&&!this.state.focus&&!this.state.showOptions}}},w=g,_=(n("424a"),Object(d["a"])(w,r,c,!1,null,null,null));_.options.__file="Block.vue";var y=_.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resizable-handle",on:{mousedown:t.resizeStartHandler}})},C=[],O={data:function(){return{resizing:!1}},methods:{resizeStartHandler:function(t){console.log("start resize"),this.resizing=!0,this.startX=t.pageX,this.colWidth=this.$parent.$el.offsetWidth/this.$parent.value.colSize,document.addEventListener("mousemove",this.resizeHandler),document.addEventListener("mouseup",this.resizeStopHandler)},resizeHandler:function(t){console.log("resizing");var e=t.pageX-this.startX;Math.abs(e/this.colWidth)>=1&&(this.startX=t.pageX,this.$emit("step",parseInt(e/this.colWidth)))},resizeStopHandler:function(t){console.log("stop resize"),this.resizing=!1,document.removeEventListener("mousemove",this.resizeHandler),document.removeEventListener("mouseup",this.resizeStopHandler)}}},S=O,z=(n("ee50"),Object(d["a"])(S,x,C,!1,null,null,null));z.options.__file="ResizableHandle.vue";var j=z.exports,N={props:{value:Object,index:Number},data:function(){return{Blocks:k["a"],html:"",nextCol:null,width:null}},components:{Block:y,draggable:i.a,ResizableHandle:j},methods:{addBlock:function(t){this.value.push((new t).blockObject)},isLastCol:function(){return this.$parent.value.length-1==this.index},step:function(t){console.log(t),this.value.colSize+=t,this.$parent.value[this.index+1].colSize-=t}},watch:{blocks:{handler:function(t){var e=this;this.$nextTick(function(){e.$refs.block&&(e.html="",e.$refs.block.forEach(function(t){t.$children.forEach(function(t){"string"==typeof t.toS&&(e.html+=t.toS)})}))})},immediate:!0,deep:!0}},computed:{sizeClass:function(){var t="col";return this.value.colSize&&(t+="-"+this.value.colSize),t},widthPx:function(){return this.width+"px"}}},$=N,B=(n("189a"),Object(d["a"])($,o,a,!1,null,null,null));B.options.__file="Blocks.vue";e["a"]=B.exports},ea44:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"buttonText"}},[t._v("Button Text")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.buttonText,expression:"value.buttonText"}],staticClass:"vtm form-control",attrs:{type:"text"},domProps:{value:t.value.buttonText},on:{input:function(e){e.target.composing||t.$set(t.value,"buttonText",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"font-size"}},[t._v("Color:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.value.options.color,expression:"value.options.color"}],staticClass:"vtm form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.value.options,"color",e.target.multiple?n:n[0])}}},[n("option",[t._v("primary")]),n("option",[t._v("secondary")]),n("option",[t._v("success")]),n("option",[t._v("danger")]),n("option",[t._v("warning")]),n("option",[t._v("info")]),n("option",[t._v("light")]),n("option",[t._v("dark")]),n("option",[t._v("link")])])]),n("div",{staticClass:"form-group form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.options.outline,expression:"value.options.outline"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"outline"},domProps:{checked:Array.isArray(t.value.options.outline)?t._i(t.value.options.outline,null)>-1:t.value.options.outline},on:{change:function(e){var n=t.value.options.outline,o=e.target,a=!!o.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);o.checked?i<0&&t.$set(t.value.options,"outline",n.concat([s])):i>-1&&t.$set(t.value.options,"outline",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.value.options,"outline",a)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"outline"}},[t._v("Outline?")])]),n("div",{staticClass:"form-group form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.options.block,expression:"value.options.block"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"block"},domProps:{checked:Array.isArray(t.value.options.block)?t._i(t.value.options.block,null)>-1:t.value.options.block},on:{change:function(e){var n=t.value.options.block,o=e.target,a=!!o.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);o.checked?i<0&&t.$set(t.value.options,"block",n.concat([s])):i>-1&&t.$set(t.value.options,"block",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.value.options,"block",a)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"block"}},[t._v("Block?")])])])},a=[],s={props:{value:Object}},i=s,r=(n("da3f"),n("2877")),c=Object(r["a"])(i,o,a,!1,null,null,null);c.options.__file="options.vue";e["default"]=c.exports},ee50:function(t,e,n){"use strict";var o=n("ceeb"),a=n.n(o);a.a},f24a:function(t,e,n){},f265:function(t,e,n){var o={"./TMButton/main":"a743","./TMParagraph/main":"93ef","./TMRow/main":"a05d"};function a(t){var e=s(t);return n(e)}function s(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(o)},a.resolve=s,t.exports=a,a.id="f265"},f710:function(t,e,n){"use strict";var o=n("1247"),a=n.n(o);a.a},f765:function(t,e,n){},f97a:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",{key:t.uniqKey(this.value.content),attrs:{rows:[this.value.content],index:0},model:{value:this.value.content,callback:function(e){t.$set(this.value,"content",e)},expression:"this.value.content"}})},a=[],s=n("797f"),i={props:{value:Object},components:{Row:s["a"]},computed:{toS:function(){var t="";return t}},methods:{focus:function(){this.$emit("focus")}},data:function(){return{}}},r=i,c=(n("191d"),n("2877")),l=Object(c["a"])(r,o,a,!1,null,"5967026b",null);l.options.__file="view.vue";e["default"]=l.exports},f99c:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-group"})])}],s={props:{value:Object}},i=s,r=(n("0205"),n("2877")),c=Object(r["a"])(i,o,a,!1,null,null,null);c.options.__file="options.vue";e["default"]=c.exports}});
//# sourceMappingURL=app.ba7a8c7d.js.map